<div class="camp-form-wrapper">
  <div class="camp-form-container">
    <h2>CampDay 露營日</h2>
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
    <!-- 上方：使用說明 -->
    <div class="form-description">
      <p>本服務提供方便的露營查詢功能。使用者可依照以下步驟操作：</p>
      <ol>
        <li>選擇您想露營的日期（限制:未來 7 天）。</li>
        <li>選擇縣市以篩選露營地點。</li>
        <li>點擊「搜尋」按鈕，系統將列出符合條件的露營地點資訊。</li>
        <li>每個露營地點同時提供當日及未來天氣預報，方便規劃行程。</li>
        <li>所有欄位皆為必填，未填寫將提示錯誤訊息。</li>
      </ol>
    </div>
    <!-- 作者資訊 -->
    <div class="author-info">
      <p>
        <a
          href="https://github.com/yuhsiang237/CampDay"
          target="_blank"
          rel="noopener noreferrer"
        >
          <!-- GitHub SVG icon -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="currentColor"
            style="vertical-align: middle; margin-right: 4px"
          >
            <path
              d="M12 0C5.371 0 0 5.371 0 12c0 5.302 3.438 9.8 8.205 11.387.6.111.82-.261.82-.577
             0-.285-.01-1.04-.015-2.04-3.338.726-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.756-1.333-1.756-1.09-.745.082-.73.082-.73
             1.205.084 1.84 1.238 1.84 1.238 1.07 1.834 2.809 1.304 3.495.997.108-.775.418-1.305.762-1.605-2.665-.304-5.466-1.332-5.466-5.931
             0-1.31.469-2.381 1.236-3.221-.124-.303-.536-1.523.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.984-.399 3.003-.404
             1.018.005 2.046.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.655 1.653.243 2.873.12 3.176.77.84 1.234 1.911 1.234 3.221
             0 4.609-2.804 5.625-5.476 5.921.43.37.823 1.102.823 2.222 0 1.606-.015 2.898-.015 3.293 0 .319.216.694.825.576C20.565 21.796 24 17.298 24 12
             24 5.371 18.627 0 12 0z"
            />
          </svg>
          yuhsiang237
        </a>
      </p>
    </div>
    <!-- 下方：表單 -->
    <form [formGroup]="campForm" (ngSubmit)="submitForm()" class="camp-form">
      <!-- 日期 -->
      <div class="form-item">
        <label for="campDate">露營日</label>
        <input
          type="date"
          formControlName="campDate"
          [min]="dates[0]"
          [max]="dates[dates.length - 1]"
        />
        <div
          *ngIf="
            campForm.get('campDate')?.touched &&
            campForm.get('campDate')?.invalid
          "
          class="error"
        >
          <ng-container *ngIf="campForm.get('campDate')?.errors?.['required']">
            請選擇日期
          </ng-container>
          <ng-container *ngIf="campForm.get('campDate')?.errors?.['max7Days']">
            露營日不支援超過未來 7 天
          </ng-container>
        </div>
      </div>

      <!-- 縣市 -->
      <div class="form-item">
        <label for="city">縣市</label>
        <select id="city" formControlName="city">
          <option value="">請選擇縣市</option>
          <option *ngFor="let c of cities" [value]="c">{{ c }}</option>
        </select>
        <div
          *ngIf="campForm.get('city')?.invalid && campForm.get('city')?.touched"
          class="error"
        >
          請選擇縣市
        </div>
      </div>

      <button type="submit" class="submit-btn">搜尋</button>
    </form>
  </div>
</div>
